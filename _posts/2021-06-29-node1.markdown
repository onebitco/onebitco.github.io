---
layout: post
title:  "Bitcoin Node, connected. 연결된 노드."
date:   2021-06-29 16:12:17 -0400
categories: bitcoin
---

>채굴에 성공한 노드는 자신의 이웃 목록에 있는 모든 연결된 노드마다 브로드캐스팅 방식으로 inv 메시지를 전송한다. inv 메시지는 블록 및 트랜잭션 해시값 등이 저장되어 있어, 전달받는 노드는 먼저 해당 해시값을 갖는 블록의 검증을 수행할 수 있다. 블록 검증은 정상적으로 생성된 블록인지, 아니면 자신이 보유하고 있는 블록인지 확인하는 단계로 검증을 통해 자신이 보유하지 않은 블록이라고 판단하면, getdata 메시지를 전송하여 블록을 전달받는다. 블록을 전달받거나 이미 블록을 보유한 노드들은 네트워크의 모든 노드들이 블록 검증과 블록 전파가 이루어지도록 자신의 이웃 노드에게 동일한 과정으로 전달된 블록을 전파한다. 위의 과정을 통해 채굴된 블록이 정상적으로 모든 노드에 성공적으로 검증이 이루어지면 노드들의 블록체인에 연결 된다. 
>
><https://doi.org/10.22670/knom.2020.23.1.26> , 페이지29

